Большинство элементов настройки должны находиться внутри элемента <aop:config>.

Внутри <aop:config> можно объявить один или более объектов-советников, аспектов или срезов множества точек сопряжения.
В листинге 5.2 был объявлен единственный аспект с помощью элемента <aop:aspect>.
Атрибут ref ссылается на компонент POJO, реализующий функциональность аспекта, в данном случае audience.
Компонент, на который ссылается атрибут ref, определяет методы, вызываемые советами в аспекте.

Сам аспект определяет четыре совета.
Два элемента <aop:before> определяют советы, выполняемые перед вызовом метода,
которые будут вызывать методы takeSeats() и turnOffCellPhones() компонента Audience перед вызовами любых методов,
определяемых срезом с точками сопряжения.

Элемент <aop:after-returning> определяет совет, выполняемый после успешного завершения метода
и вызывающий метод applaud() после любых методов, определяемых срезом.

И элемент <aop:after-throwing> определяет совет, выполняемый в случае возбуждения исключения
и вызывающий метод demandRefund(), если было возбуждено какое-либо исключение.

Во всех элементах, объявляющих советы, атрибут pointcut – это срез множества точек сопряжения, где будет применяться данный совет.
Значением атрибута pointcut является определение среза с применением синтаксиса выражений AspectJ.

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Во всех элементах объявления советов атрибут pointcut имеет одинаковое значение,
потому что все советы применяются к одному и тому же срезу множества точек сопряжения.

Однако это является нарушением принципа DRY(don’t repeat your self – не повторяйся).

Если впоследствии потребуется изменить определение среза, это придется сделать в четырех различных местах.
Чтобы избежать дублирования определений срезов множества точек сопряжения,
можно определить именованный срез с помощью элемента <aop:pointcut>.

В листинге 5.3 представлен фрагмент XML, демонстрирующий, как внутри элемента <aop:aspect>
определить именованный срез с помощью элемента <aop:pointcut>,
который затем можно использовать во всех элементах определения советов.

Теперь определение среза, ссылки на который используются в нескольких местах, существует в единственном экземпляре.
Элемент <aop:pointcut> определяет срез множества точек сопряжения с идентификатором performance.
Кроме того, во всех элементах, объявляющих советы, определения срезов
были заменены атрибутом pointcut-ref со ссылкой на именованный срез.

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
